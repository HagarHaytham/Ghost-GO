{"version":3,"file":"settings.min.js","sources":["../../../node_modules/ismobilejs/dist/isMobile.min.js","../src/settings.js","../src/utils/maxRecommendedTextures.js","../src/utils/canUploadSameBuffer.js"],"sourcesContent":["!function(e){var n=/iPhone/i,t=/iPod/i,r=/iPad/i,a=/\\bAndroid(?:.+)Mobile\\b/i,p=/Android/i,b=/\\bAndroid(?:.+)SD4930UR\\b/i,l=/\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,f=/Windows Phone/i,s=/\\bWindows(?:.+)ARM\\b/i,u=/BlackBerry/i,c=/BB10/i,h=/Opera Mini/i,v=/\\b(CriOS|Chrome)(?:.+)Mobile/i,w=/Mobile(?:.+)Firefox\\b/i;function m(e,i){return e.test(i)}function i(e){var i=e||(\"undefined\"!=typeof navigator?navigator.userAgent:\"\"),o=i.split(\"[FBAN\");void 0!==o[1]&&(i=o[0]),void 0!==(o=i.split(\"Twitter\"))[1]&&(i=o[0]);var d={apple:{phone:m(n,i)&&!m(f,i),ipod:m(t,i),tablet:!m(n,i)&&m(r,i)&&!m(f,i),device:(m(n,i)||m(t,i)||m(r,i))&&!m(f,i)},amazon:{phone:m(b,i),tablet:!m(b,i)&&m(l,i),device:m(b,i)||m(l,i)},android:{phone:!m(f,i)&&m(b,i)||!m(f,i)&&m(a,i),tablet:!m(f,i)&&!m(b,i)&&!m(a,i)&&(m(l,i)||m(p,i)),device:!m(f,i)&&(m(b,i)||m(l,i)||m(a,i)||m(p,i))||m(/\\bokhttp\\b/i,i)},windows:{phone:m(f,i),tablet:m(s,i),device:m(f,i)||m(s,i)},other:{blackberry:m(u,i),blackberry10:m(c,i),opera:m(h,i),firefox:m(w,i),chrome:m(v,i),device:m(u,i)||m(c,i)||m(h,i)||m(w,i)||m(v,i)}};return d.any=d.apple.device||d.android.device||d.windows.device||d.other.device,d.phone=d.apple.phone||d.android.phone||d.windows.phone,d.tablet=d.apple.tablet||d.android.tablet||d.windows.tablet,d}\"undefined\"!=typeof module&&module.exports&&\"undefined\"==typeof window?module.exports=i:\"undefined\"!=typeof module&&module.exports&&\"undefined\"!=typeof window?(module.exports=i(),module.exports.isMobile=i):\"function\"==typeof define&&define.amd?define([],e.isMobile=i()):e.isMobile=i()}(this);","import isMobile from 'ismobilejs';\nimport maxRecommendedTextures from './utils/maxRecommendedTextures';\nimport canUploadSameBuffer from './utils/canUploadSameBuffer';\n\n/**\n * User's customizable globals for overriding the default PIXI settings, such\n * as a renderer's default resolution, framerate, float precision, etc.\n * @example\n * // Use the native window resolution as the default resolution\n * // will support high-density displays when rendering\n * PIXI.settings.RESOLUTION = window.devicePixelRatio;\n *\n * // Disable interpolation when scaling, will make texture be pixelated\n * PIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\n * @namespace PIXI.settings\n */\nexport default {\n\n    /**\n     * If set to true WebGL will attempt make textures mimpaped by default.\n     * Mipmapping will only succeed if the base texture uploaded has power of two dimensions.\n     *\n     * @static\n     * @name MIPMAP_TEXTURES\n     * @memberof PIXI.settings\n     * @type {PIXI.MIPMAP_MODES}\n     * @default PIXI.MIPMAP_MODES.POW2\n     */\n    MIPMAP_TEXTURES: 1,\n\n    /**\n     * Default anisotropic filtering level of textures.\n     * Usually from 0 to 16\n     *\n     * @static\n     * @name ANISOTROPIC_LEVEL\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 0\n     */\n    ANISOTROPIC_LEVEL: 0,\n\n    /**\n     * Default resolution / device pixel ratio of the renderer.\n     *\n     * @static\n     * @name RESOLUTION\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 1\n     */\n    RESOLUTION: 1,\n\n    /**\n     * Default filter resolution.\n     *\n     * @static\n     * @name FILTER_RESOLUTION\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 1\n     */\n    FILTER_RESOLUTION: 1,\n\n    /**\n     * The maximum textures that this device supports.\n     *\n     * @static\n     * @name SPRITE_MAX_TEXTURES\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 32\n     */\n    SPRITE_MAX_TEXTURES: maxRecommendedTextures(32),\n\n    // TODO: maybe change to SPRITE.BATCH_SIZE: 2000\n    // TODO: maybe add PARTICLE.BATCH_SIZE: 15000\n\n    /**\n     * The default sprite batch size.\n     *\n     * The default aims to balance desktop and mobile devices.\n     *\n     * @static\n     * @name SPRITE_BATCH_SIZE\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 4096\n     */\n    SPRITE_BATCH_SIZE: 4096,\n\n    /**\n     * The default render options if none are supplied to {@link PIXI.Renderer}\n     * or {@link PIXI.CanvasRenderer}.\n     *\n     * @static\n     * @name RENDER_OPTIONS\n     * @memberof PIXI.settings\n     * @type {object}\n     * @property {HTMLCanvasElement} view=null\n     * @property {number} resolution=1\n     * @property {boolean} antialias=false\n     * @property {boolean} forceFXAA=false\n     * @property {boolean} autoDensity=false\n     * @property {boolean} transparent=false\n     * @property {number} backgroundColor=0x000000\n     * @property {boolean} clearBeforeRender=true\n     * @property {boolean} preserveDrawingBuffer=false\n     * @property {number} width=800\n     * @property {number} height=600\n     * @property {boolean} legacy=false\n     */\n    RENDER_OPTIONS: {\n        view: null,\n        antialias: false,\n        forceFXAA: false,\n        autoDensity: false,\n        transparent: false,\n        backgroundColor: 0x000000,\n        clearBeforeRender: true,\n        preserveDrawingBuffer: false,\n        width: 800,\n        height: 600,\n        legacy: false,\n    },\n\n    /**\n     * Default Garbage Collection mode.\n     *\n     * @static\n     * @name GC_MODE\n     * @memberof PIXI.settings\n     * @type {PIXI.GC_MODES}\n     * @default PIXI.GC_MODES.AUTO\n     */\n    GC_MODE: 0,\n\n    /**\n     * Default Garbage Collection max idle.\n     *\n     * @static\n     * @name GC_MAX_IDLE\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 3600\n     */\n    GC_MAX_IDLE: 60 * 60,\n\n    /**\n     * Default Garbage Collection maximum check count.\n     *\n     * @static\n     * @name GC_MAX_CHECK_COUNT\n     * @memberof PIXI.settings\n     * @type {number}\n     * @default 600\n     */\n    GC_MAX_CHECK_COUNT: 60 * 10,\n\n    /**\n     * Default wrap modes that are supported by pixi.\n     *\n     * @static\n     * @name WRAP_MODE\n     * @memberof PIXI.settings\n     * @type {PIXI.WRAP_MODES}\n     * @default PIXI.WRAP_MODES.CLAMP\n     */\n    WRAP_MODE: 33071,\n\n    /**\n     * Default scale mode for textures.\n     *\n     * @static\n     * @name SCALE_MODE\n     * @memberof PIXI.settings\n     * @type {PIXI.SCALE_MODES}\n     * @default PIXI.SCALE_MODES.LINEAR\n     */\n    SCALE_MODE: 1,\n\n    /**\n     * Default specify float precision in vertex shader.\n     *\n     * @static\n     * @name PRECISION_VERTEX\n     * @memberof PIXI.settings\n     * @type {PIXI.PRECISION}\n     * @default PIXI.PRECISION.HIGH\n     */\n    PRECISION_VERTEX: 'highp',\n\n    /**\n     * Default specify float precision in fragment shader.\n     * iOS is best set at highp due to https://github.com/pixijs/pixi.js/issues/3742\n     *\n     * @static\n     * @name PRECISION_FRAGMENT\n     * @memberof PIXI.settings\n     * @type {PIXI.PRECISION}\n     * @default PIXI.PRECISION.MEDIUM\n     */\n    PRECISION_FRAGMENT: isMobile.apple.device ? 'highp' : 'mediump',\n\n    /**\n     * Can we upload the same buffer in a single frame?\n     *\n     * @static\n     * @name CAN_UPLOAD_SAME_BUFFER\n     * @memberof PIXI.settings\n     * @type {boolean}\n     */\n    CAN_UPLOAD_SAME_BUFFER: canUploadSameBuffer(),\n\n    /**\n     * Enables bitmap creation before image load. This feature is experimental.\n     *\n     * @static\n     * @name CREATE_IMAGE_BITMAP\n     * @memberof PIXI.settings\n     * @type {boolean}\n     * @default false\n     */\n    CREATE_IMAGE_BITMAP: false,\n\n    /**\n     * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.\n     * Advantages can include sharper image quality (like text) and faster rendering on canvas.\n     * The main disadvantage is movement of objects may appear less smooth.\n     *\n     * @static\n     * @constant\n     * @memberof PIXI.settings\n     * @type {boolean}\n     * @default false\n     */\n    ROUND_PIXELS: false,\n};\n","import isMobile from 'ismobilejs';\n\n/**\n * The maximum recommended texture units to use.\n * In theory the bigger the better, and for desktop we'll use as many as we can.\n * But some mobile devices slow down if there is to many branches in the shader.\n * So in practice there seems to be a sweet spot size that varies depending on the device.\n *\n * In v4, all mobile devices were limited to 4 texture units because for this.\n * In v5, we allow all texture units to be used on modern Apple or Android devices.\n *\n * @private\n * @param {number} max\n * @returns {number}\n */\nexport default function maxRecommendedTextures(max)\n{\n    let allowMax = true;\n\n    if (isMobile.tablet || isMobile.phone)\n    {\n        allowMax = false;\n\n        if (isMobile.apple.device)\n        {\n            const match = (navigator.userAgent).match(/OS (\\d+)_(\\d+)?/);\n\n            if (match)\n            {\n                const majorVersion = parseInt(match[1], 10);\n\n                // All texture units can be used on devices that support ios 11 or above\n                if (majorVersion >= 11)\n                {\n                    allowMax = true;\n                }\n            }\n        }\n        if (isMobile.android.device)\n        {\n            const match = (navigator.userAgent).match(/Android\\s([0-9.]*)/);\n\n            if (match)\n            {\n                const majorVersion = parseInt(match[1], 10);\n\n                // All texture units can be used on devices that support Android 7 (Nougat) or above\n                if (majorVersion >= 7)\n                {\n                    allowMax = true;\n                }\n            }\n        }\n    }\n\n    return allowMax ? max : 4;\n}\n","import isMobile from 'ismobilejs';\n\n/**\n * Uploading the same buffer multiple times in a single frame can cause performance issues.\n * Apparent on iOS so only check for that at the moment\n * This check may become more complex if this issue pops up elsewhere.\n *\n * @private\n * @returns {boolean}\n */\nexport default function canUploadSameBuffer()\n{\n    return !isMobile.apple.device;\n}\n"],"names":["e","n","t","r","a","p","b","l","f","s","u","c","h","v","w","m","i","test","navigator","userAgent","o","split","d","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","module","exports","window","isMobile","this","MIPMAP_TEXTURES","ANISOTROPIC_LEVEL","RESOLUTION","FILTER_RESOLUTION","SPRITE_MAX_TEXTURES","max","let","allowMax","const","match","parseInt","maxRecommendedTextures","SPRITE_BATCH_SIZE","RENDER_OPTIONS","view","antialias","forceFXAA","autoDensity","transparent","backgroundColor","clearBeforeRender","preserveDrawingBuffer","width","height","legacy","GC_MODE","GC_MAX_IDLE","GC_MAX_CHECK_COUNT","WRAP_MODE","SCALE_MODE","PRECISION_VERTEX","PRECISION_FRAGMENT","CAN_UPLOAD_SAME_BUFFER","CREATE_IMAGE_BITMAP","ROUND_PIXELS"],"mappings":";;;;;;;+OAAC,SAASA,GAAG,IAAIC,EAAE,UAAUC,EAAE,QAAQC,EAAE,QAAQC,EAAE,2BAA2BC,EAAE,WAAWC,EAAE,6BAA6BC,EAAE,qCAAqCC,EAAE,iBAAiBC,EAAE,wBAAwBC,EAAE,cAAcC,EAAE,QAAQC,EAAE,cAAcC,EAAE,gCAAgCC,EAAE,yBAAyB,SAASC,EAAEf,EAAEgB,GAAG,OAAOhB,EAAEiB,KAAKD,GAAG,SAASA,EAAEhB,GAAG,IAAIgB,EAAEhB,IAAI,oBAAoBkB,UAAUA,UAAUC,UAAU,IAAIC,EAAEJ,EAAEK,MAAM,cAAS,IAASD,EAAE,KAAKJ,EAAEI,EAAE,SAAI,KAAUA,EAAEJ,EAAEK,MAAM,YAAY,KAAKL,EAAEI,EAAE,IAAI,IAAIE,EAAE,CAACC,MAAM,CAACC,MAAMT,EAAEd,EAAEe,KAAKD,EAAEP,EAAEQ,GAAGS,KAAKV,EAAEb,EAAEc,GAAGU,QAAQX,EAAEd,EAAEe,IAAID,EAAEZ,EAAEa,KAAKD,EAAEP,EAAEQ,GAAGW,QAAQZ,EAAEd,EAAEe,IAAID,EAAEb,EAAEc,IAAID,EAAEZ,EAAEa,MAAMD,EAAEP,EAAEQ,IAAIY,OAAO,CAACJ,MAAMT,EAAET,EAAEU,GAAGU,QAAQX,EAAET,EAAEU,IAAID,EAAER,EAAES,GAAGW,OAAOZ,EAAET,EAAEU,IAAID,EAAER,EAAES,IAAIa,QAAQ,CAACL,OAAOT,EAAEP,EAAEQ,IAAID,EAAET,EAAEU,KAAKD,EAAEP,EAAEQ,IAAID,EAAEX,EAAEY,GAAGU,QAAQX,EAAEP,EAAEQ,KAAKD,EAAET,EAAEU,KAAKD,EAAEX,EAAEY,KAAKD,EAAER,EAAES,IAAID,EAAEV,EAAEW,IAAIW,QAAQZ,EAAEP,EAAEQ,KAAKD,EAAET,EAAEU,IAAID,EAAER,EAAES,IAAID,EAAEX,EAAEY,IAAID,EAAEV,EAAEW,KAAKD,EAAE,cAAcC,IAAIc,QAAQ,CAACN,MAAMT,EAAEP,EAAEQ,GAAGU,OAAOX,EAAEN,EAAEO,GAAGW,OAAOZ,EAAEP,EAAEQ,IAAID,EAAEN,EAAEO,IAAIe,MAAM,CAACC,WAAWjB,EAAEL,EAAEM,GAAGiB,aAAalB,EAAEJ,EAAEK,GAAGkB,MAAMnB,EAAEH,EAAEI,GAAGmB,QAAQpB,EAAED,EAAEE,GAAGoB,OAAOrB,EAAEF,EAAEG,GAAGW,OAAOZ,EAAEL,EAAEM,IAAID,EAAEJ,EAAEK,IAAID,EAAEH,EAAEI,IAAID,EAAED,EAAEE,IAAID,EAAEF,EAAEG,KAAK,OAAOM,EAAEe,IAAIf,EAAEC,MAAMI,QAAQL,EAAEO,QAAQF,QAAQL,EAAEQ,QAAQH,QAAQL,EAAES,MAAMJ,OAAOL,EAAEE,MAAMF,EAAEC,MAAMC,OAAOF,EAAEO,QAAQL,OAAOF,EAAEQ,QAAQN,MAAMF,EAAEI,OAAOJ,EAAEC,MAAMG,QAAQJ,EAAEO,QAAQH,QAAQJ,EAAEQ,QAAQJ,OAAOJ,EAA8BgB,EAAOC,SAAS,oBAAoBC,OAAOF,UAAetB,EAA8BsB,EAAOC,SAAS,oBAAoBC,QAAQF,UAAetB,IAAIsB,mBAAwBtB,GAAmEhB,EAAEyC,SAASzB,IAAlgD,CAAugD0B,0DCgBz/C,CAYXC,gBAAiB,EAYjBC,kBAAmB,EAWnBC,WAAY,EAWZC,kBAAmB,EAWnBC,oBC1DW,SAAgCC,GAE3CC,IAAIC,GAAW,EAEf,GAAIT,EAASf,QAAUe,EAASjB,MAChC,CAGI,GAFA0B,GAAW,EAEPT,EAASlB,MAAMI,OACnB,CACIwB,IAAMC,EAASlC,UAAmB,UAAEkC,MAAM,mBAEtCA,GAEqBC,SAASD,EAAM,GAAI,KAGpB,KAEhBF,GAAW,GAIvB,GAAIT,EAASZ,QAAQF,OACrB,CACIwB,IAAMC,EAASlC,UAAmB,UAAEkC,MAAM,sBAEtCA,GAEqBC,SAASD,EAAM,GAAI,KAGpB,IAEhBF,GAAW,IAM3B,OAAOA,EAAWF,EAAM,EDkBHM,CAAuB,IAgB5CC,kBAAmB,KAuBnBC,eAAgB,CACZC,KAAM,KACNC,WAAW,EACXC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,gBAAiB,EACjBC,mBAAmB,EACnBC,uBAAuB,EACvBC,MAAO,IACPC,OAAQ,IACRC,QAAQ,GAYZC,QAAS,EAWTC,YAAa,KAWbC,mBAAoB,IAWpBC,UAAW,MAWXC,WAAY,EAWZC,iBAAkB,QAYlBC,mBAAoBjC,EAASlB,MAAMI,OAAS,QAAU,UAUtDgD,wBExMQlC,EAASlB,MAAMI,OFmNvBiD,qBAAqB,EAarBC,cAAc"}